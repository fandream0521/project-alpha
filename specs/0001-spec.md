# Ticket管理系统需求与设计文档

## 1. 项目概述

Ticket管理系统是一个轻量级的任务管理工具，专为个人和小团队设计。系统采用标签分类的方式组织ticket，提供简洁直观的用户界面，帮助用户高效地管理工作任务。整个系统无需复杂的用户权限管理，专注于核心的任务管理功能。

### 1.1 技术架构

我们选择了现代化的技术栈来构建这个系统：

- **后端架构**: Rust + axum框架
  - 高性能、内存安全
  - 强类型系统，减少运行时错误
  - 优秀的并发处理能力

- **前端架构**: React + TypeScript + Vite
  - 组件化开发，易于维护
  - TypeScript提供类型安全
  - Vite提供快速的开发体验

- **UI框架**: Tailwind CSS + Shadcn/ui
  - 高度可定制的样式系统
  - 优雅的预设组件库

- **数据存储**: PostgreSQL
  - 强大的关系型数据库
  - 优秀的查询性能和数据一致性

## 2. 功能需求

### 2.1 核心功能

#### Ticket生命周期管理
系统提供完整的ticket生命周期管理功能，从创建到完成的全流程支持：

- **创建Ticket**: 用户可以快速创建新的ticket，只需输入标题和可选的描述信息
- **编辑Ticket**: 支持随时修改ticket的标题、描述和标签
- **状态管理**: 一键切换ticket的完成状态，支持标记已完成或重新打开
- **删除Ticket**: 彻底删除不需要的ticket，保持工作区整洁

#### 智能标签系统
标签是本系统的核心组织方式，提供灵活的分类管理：

- **多标签支持**: 每个ticket可以关联多个标签，实现多维度的分类
- **标签颜色**: 为不同标签设置不同颜色，便于快速识别
- **标签过滤**: 点击标签即可筛选出相关的所有ticket
- **标签管理**: 支持创建、编辑和删除标签

#### 强大的搜索功能
系统提供多种搜索和过滤方式，帮助用户快速找到需要的ticket：

- **关键词搜索**: 支持在ticket标题中进行模糊搜索
- **组合过滤**: 可以同时使用标签过滤和关键词搜索
- **状态筛选**: 独立查看开放中的或已完成的ticket

### 2.2 用户体验设计

#### 响应式设计
- 完美适配桌面端和移动端设备
- 自适应布局，确保在不同屏幕尺寸下都有良好的显示效果
- 触摸友好的交互设计

#### 直观的操作体验
- 清晰的视觉层次，重要信息一目了然
- 流畅的动画过渡，提升操作反馈
- 实时更新，无需手动刷新页面

## 3. 数据库设计

### 3.1 数据模型

数据库采用关系型设计，通过三个核心表来存储所有数据：

#### 3.1.1 tickets表 - 存储ticket信息
```sql
CREATE TABLE tickets (
    id BIGSERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    status VARCHAR(20) NOT NULL DEFAULT 'open', -- 'open' | 'completed'
    created_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW()
);
```

#### 3.1.2 tags表 - 存储标签信息
```sql
CREATE TABLE tags (
    id BIGSERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL UNIQUE,
    color VARCHAR(7) NOT NULL DEFAULT '#3B82F6', -- HEX颜色值
    created_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW()
);
```

#### 3.1.3 ticket_tags表 - 建立ticket和标签的多对多关系
```sql
CREATE TABLE ticket_tags (
    ticket_id BIGINT NOT NULL REFERENCES tickets(id) ON DELETE CASCADE,
    tag_id BIGINT NOT NULL REFERENCES tags(id) ON DELETE CASCADE,
    PRIMARY KEY (ticket_id, tag_id)
);
```

### 3.2 性能优化

为了确保系统在大量数据下的查询性能，我们设计了以下索引：

```sql
-- tickets表索引
CREATE INDEX idx_tickets_status ON tickets(status);
CREATE INDEX idx_tickets_created_at ON tickets(created_at);
CREATE INDEX idx_tickets_title_gin ON tickets USING gin(to_tsvector('simple', title));

-- ticket_tags关联表索引
CREATE INDEX idx_ticket_tags_tag_id ON ticket_tags(tag_id);
```

## 3. 数据库设计

### 3.1 数据表设计

#### 3.1.1 tickets表
```sql
CREATE TABLE tickets (
    id BIGSERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL,
    description TEXT,
    status VARCHAR(20) NOT NULL DEFAULT 'open', -- 'open' | 'completed'
    created_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW(),
    updated_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW()
);
```

#### 3.1.2 tags表
```sql
CREATE TABLE tags (
    id BIGSERIAL PRIMARY KEY,
    name VARCHAR(50) NOT NULL UNIQUE,
    color VARCHAR(7) NOT NULL DEFAULT '#3B82F6', -- HEX颜色值
    created_at TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT NOW()
);
```

#### 3.1.3 ticket_tags关联表
```sql
CREATE TABLE ticket_tags (
    ticket_id BIGINT NOT NULL REFERENCES tickets(id) ON DELETE CASCADE,
    tag_id BIGINT NOT NULL REFERENCES tags(id) ON DELETE CASCADE,
    PRIMARY KEY (ticket_id, tag_id)
);
```

### 3.2 索引设计
```sql
-- tickets表索引
CREATE INDEX idx_tickets_status ON tickets(status);
CREATE INDEX idx_tickets_created_at ON tickets(created_at);
CREATE INDEX idx_tickets_title_gin ON tickets USING gin(to_tsvector('simple', title));

-- ticket_tags关联表索引
CREATE INDEX idx_ticket_tags_tag_id ON ticket_tags(tag_id);
```

## 4. API接口设计

### 4.1 接口规范

系统采用RESTful API设计，所有接口遵循统一的响应格式：

- **基础路径**: `/api/v1`
- **数据格式**: JSON
- **认证方式**: 暂不需要（无用户系统）
- **错误处理**: 统一的错误响应结构

### 4.2 Ticket管理接口

#### 4.2.1 获取Ticket列表
支持灵活的查询参数，实现强大的过滤和搜索功能：

```
GET /api/v1/tickets
Query Parameters:
  - status?: 'open' | 'completed'  // 按状态过滤
  - tag_ids?: number[]             // 按标签过滤
  - search?: string                // 标题关键词搜索
  - page?: number                  // 分页页码
  - limit?: number                 // 每页数量

Response:
{
  "data": [
    {
      "id": number,
      "title": "string",
      "description": "string",
      "status": "open | completed",
      "created_at": "ISO8601",
      "updated_at": "ISO8601",
      "tags": [
        {
          "id": number,
          "name": "string",
          "color": "#hex"
        }
      ]
    }
  ],
  "pagination": {
    "page": 1,
    "limit": 20,
    "total": 100
  }
}
```

#### 4.2.2 创建新Ticket
```
POST /api/v1/tickets
Body:
{
  "title": "string",           // 必填
  "description": "string",     // 可选
  "tag_ids": [number]          // 可选，关联的标签ID列表
}

Response: 创建的Ticket对象
```

#### 4.2.3 获取单个Ticket详情
```
GET /api/v1/tickets/{id}  // {id}为数字ID
Response: 完整的Ticket对象（包含关联的tags）
```

#### 4.2.4 更新Ticket
支持部分更新，只传需要修改的字段：

```
PUT /api/v1/tickets/{id}  // {id}为数字ID
Body:
{
  "title": "string",              // 可选
  "description": "string",        // 可选
  "status": "open | completed",   // 可选
  "tag_ids": [number]             // 可选，完全替换现有标签
}

Response: 更新后的Ticket对象
```

#### 4.2.5 删除Ticket
```
DELETE /api/v1/tickets/{id}  // {id}为数字ID
Response: 204 No Content
```

### 4.3 标签管理接口

#### 4.3.1 获取所有标签
返回所有标签列表，包含每个标签下的ticket数量：

```
GET /api/v1/tags
Response:
{
  "data": [
    {
      "id": number,
      "name": "string",
      "color": "#hex",
      "ticket_count": number  // 该标签下的ticket数量
    }
  ]
}
```

#### 4.3.2 创建新标签
```
POST /api/v1/tags
Body:
{
  "name": "string",      // 必填，标签名称
  "color": "#hex"        // 可选，默认蓝色
}

Response: 创建的Tag对象
```

#### 4.3.3 更新标签
```
PUT /api/v1/tags/{id}  // {id}为数字ID
Body:
{
  "name": "string",      // 可选
  "color": "#hex"        // 可选
}

Response: 更新后的Tag对象
```

#### 4.3.4 删除标签
删除标签会自动移除所有ticket上的该标签关联：

```
DELETE /api/v1/tags/{id}  // {id}为数字ID
Response: 204 No Content
```

### 4.4 错误响应格式

所有错误响应都遵循统一的格式：

```json
{
  "error": {
    "code": "string",      // 错误代码
    "message": "string",   // 错误描述
    "details": "object"    // 可选的详细信息
  }
}
```

## 5. 前端架构设计

### 5.1 用户界面设计

#### 5.1.1 整体布局
采用经典的侧边栏布局，提供清晰的信息层级和便捷的导航：

```
┌─────────────────────────────────────┐
│              Header                  │
│  [Logo] [搜索框]        [创建Ticket] │
├─────────────┬───────────────────────┤
│   Sidebar   │       Main Content    │
│             │                       │
│ [标签过滤器] │    Ticket列表视图      │
│ - 全部      │    ┌─────────────┐   │
│ - 标签1     │    │   Ticket 1  │   │
│ - 标签2     │    └─────────────┘   │
│ - ...       │    ┌─────────────┐   │
│             │    │   Ticket 2  │   │
│ [状态过滤器] │    └─────────────┘   │
│ - 全部      │                       │
│ - 开放      │                       │
│ - 已完成    │                       │
│             │                       │
└─────────────┴───────────────────────┘
```

#### 5.1.2 关键交互设计
- **快速创建**: 顶部显著的创建按钮，支持快速新建ticket
- **实时过滤**: 点击标签或状态过滤器立即更新列表
- **智能搜索**: 搜索框支持实时搜索建议
- **拖拽排序**: 支持通过拖拽调整ticket优先级（可选功能）

### 5.2 组件化设计

#### 5.2.1 Ticket卡片组件
```tsx
interface TicketCardProps {
  ticket: {
    id: number;
    title: string;
    description: string;
    status: 'open' | 'completed';
    tags: Array<{
      id: number;
      name: string;
      color: string;
    }>;
    created_at: string;
  };
  onEdit: (id: number) => void;
  onDelete: (id: number) => void;
  onToggleStatus: (id: number) => void;
}
```

#### 5.2.2 标签组件
```tsx
interface TagProps {
  tag: {
    id: number;
    name: string;
    color: string;
  };
  removable?: boolean;
  onRemove?: (id: number) => void;
}
```

#### 5.2.3 创建/编辑Ticket弹窗
```tsx
interface TicketFormProps {
  ticket?: Ticket; // 编辑时传入
  tags: Tag[];
  onSubmit: (data: TicketFormData) => void;
  onCancel: () => void;
}

interface TicketFormData {
  title: string;
  description: string;
  tag_ids: number[];
}
```

### 5.3 状态管理
使用React Context或 Zustand进行状态管理：
```typescript
interface AppState {
  tickets: Ticket[];
  tags: Tag[];
  filters: {
    search: string;
    status: 'all' | 'open' | 'completed';
    tagIds: string[];
  };
  loading: boolean;
}
```

### 5.4 路由设计
```typescript
- "/" - 主页面，显示Ticket列表
- "/tickets/new" - 创建新Ticket（或使用弹窗）
- "/tickets/:id/edit" - 编辑Ticket（或使用弹窗）(:id为数字ID)
- "/tags" - 标签管理页面
```

## 6. 技术架构

### 6.1 后端架构
```
┌─────────────────┐
│   HTTP Server   │ (axum/actix-web)
├─────────────────┤
│   Handler Layer │ - 请求处理
│   (Controllers) │ - 参数验证
├─────────────────┤
│  Service Layer  │ - 业务逻辑
│                 │ - 数据转换
├─────────────────┤
│ Repository Layer│ - 数据访问
│   (ORM: sqlx)   │ - SQL查询
├─────────────────┤
│   PostgreSQL    │
└─────────────────┘
```

### 6.2 前端架构
```
┌─────────────────┐
│      UI Layer   │ (React Components)
│                 │ - Presentational
├─────────────────┤
│  Service Layer  │ - API调用
│                 │ - 数据转换
├─────────────────┤
│  State Layer    │ (Context/Zustand)
│                 │ - 全局状态
├─────────────────┤
│    HTTP Client  │ (axios/fetch)
└─────────────────┘
```

## 7. 项目结构

### 7.1 后端项目结构
```
ticket-backend/
├── Cargo.toml
├── src/
│   ├── main.rs
│   ├── handlers/          # 请求处理器
│   │   ├── mod.rs
│   │   ├── tickets.rs
│   │   └── tags.rs
│   ├── services/          # 业务逻辑
│   │   ├── mod.rs
│   │   ├── tickets.rs
│   │   └── tags.rs
│   ├── models/           # 数据模型
│   │   ├── mod.rs
│   │   ├── ticket.rs
│   │   └── tag.rs
│   ├── repositories/     # 数据访问层
│   │   ├── mod.rs
│   │   ├── tickets.rs
│   │   └── tags.rs
│   ├── utils/            # 工具函数
│   │   ├── mod.rs
│   │   └── database.rs
│   └── errors.rs         # 错误定义
└── migrations/           # 数据库迁移
    └── *.sql
```

### 7.2 前端项目结构
```
ticket-frontend/
├── package.json
├── vite.config.ts
├── tsconfig.json
├── tailwind.config.js
├── src/
│   ├── main.tsx
│   ├── App.tsx
│   ├── components/       # UI组件
│   │   ├── ui/          # Shadcn组件
│   │   ├── TicketCard.tsx
│   │   ├── Tag.tsx
│   │   ├── TicketForm.tsx
│   │   └── SearchBar.tsx
│   ├── pages/           # 页面组件
│   │   ├── HomePage.tsx
│   │   └── TagManagePage.tsx
│   ├── hooks/           # 自定义Hooks
│   │   ├── useTickets.ts
│   │   └── useTags.ts
│   ├── services/        # API服务
│   │   ├── api.ts
│   │   ├── tickets.ts
│   │   └── tags.ts
│   ├── types/           # TypeScript类型定义
│   │   ├── ticket.ts
│   │   └── tag.ts
│   ├── store/           # 状态管理
│   │   └── appStore.ts
│   └── utils/           # 工具函数
│       └── helpers.ts
└── public/
```

## 8. 开发计划

### 8.1 第一阶段：基础功能（1-2周）
- 数据库设计和迁移脚本
- 后端基础框架搭建
- Ticket的CRUD API实现
- 前端基础UI框架搭建
- Ticket列表和创建功能

### 8.2 第二阶段：标签功能（1周）
- 标签的CRUD API实现
- Ticket标签关联功能
- 前端标签管理界面
- 标签过滤器实现

### 8.3 第三阶段：搜索和优化（1周）
- 搜索功能实现
- 性能优化
- 响应式设计适配
- 错误处理优化

### 8.4 第四阶段：完善和部署（1周）
- UI/UX优化
- 单元测试
- 部署配置
- 文档完善

## 9. 风险与挑战

### 9.1 技术风险
- Rust学习曲线较陡峭，需要时间熟悉
- PostgreSQL的性能优化需要深入了解
- 前端状态管理的复杂性

### 9.2 解决方案
- 使用成熟的Rust Web框架和ORM
- 从简单的功能开始，逐步迭代
- 参考优秀的开源项目设计

## 10. 部署指南

本节提供完整的部署方案，假设您已经在本地安装了PostgreSQL。部署分为开发和生产两种环境，可根据需求选择合适的部署方式。

### 10.1 环境准备

#### 10.1.1 系统要求
- **操作系统**: Linux (Ubuntu 20.04+) / macOS / Windows 10+
- **PostgreSQL**: 13.0 或更高版本（需预先安装）
- **Rust**: 1.70.0 或更高版本
- **Node.js**: 18.0 或更高版本
- **Web服务器**: Nginx（生产环境推荐）

#### 10.1.2 安装开发工具

**Rust环境（所有平台）:**
```bash
# 安装Rust工具链
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
source ~/.cargo/env
```

**Node.js环境（所有平台）:**
```bash
# 推荐使用nvm管理Node.js版本
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.0/install.sh | bash
nvm install 18
nvm use 18
```

### 10.2 数据库配置

由于使用本地安装的PostgreSQL，我们只需配置数据库和用户：

#### 10.2.1 创建数据库
```bash
# 连接到PostgreSQL
psql -U postgres

# 在psql中执行
CREATE DATABASE ticket_db;
CREATE USER ticket_user WITH PASSWORD 'your_secure_password';
GRANT ALL PRIVILEGES ON DATABASE ticket_db TO ticket_user;
\q
```

#### 10.2.2 连接测试
验证数据库连接是否正常：
```bash
psql -h localhost -U ticket_user -d ticket_db -c "SELECT version();"
```

### 10.3 后端部署

#### 10.3.1 开发环境运行
```bash
# 克隆后端代码
cd /path/to/ticket-backend

# 配置环境变量
cat > .env << EOF
DATABASE_URL=postgresql://ticket_user:your_secure_password@localhost/ticket_db
RUST_LOG=debug
PORT=8080
EOF

# 运行数据库迁移
sqlx migrate run

# 启动开发服务器
cargo run
```

#### 10.3.2 生产环境部署
```bash
# 克隆后端代码
cd /path/to/ticket-backend

# 编译优化版本
cargo build --release

# 创建系统配置目录
sudo mkdir -p /etc/ticket-app
sudo tee /etc/ticket-app/.env > /dev/null << EOF
DATABASE_URL=postgresql://ticket_user:your_secure_password@localhost/ticket_db
RUST_LOG=info
PORT=8080
EOF

# 运行数据库迁移
DATABASE_URL="postgresql://ticket_user:your_secure_password@localhost/ticket_db" \
./target/release/ticket-backend migrate

# 部署到系统目录
sudo mkdir -p /opt/ticket-app
sudo cp target/release/ticket-backend /opt/ticket-app/
sudo cp -r migrations /opt/ticket-app/
```

#### 10.3.3 系统服务配置（Linux）

创建systemd服务实现自动启动和守护进程：

```bash
# 创建专用用户
sudo useradd -r -s /bin/false ticket
sudo chown -R ticket:ticket /opt/ticket-app

# 创建systemd服务文件
sudo tee /etc/systemd/system/ticket-backend.service > /dev/null << EOF
[Unit]
Description=Ticket Backend Service
After=network.target postgresql.service

[Service]
Type=simple
User=ticket
Group=ticket
WorkingDirectory=/opt/ticket-app
ExecStart=/opt/ticket-app/ticket-backend
Restart=always
RestartSec=5
EnvironmentFile=/etc/ticket-app/.env

[Install]
WantedBy=multi-user.target
EOF

# 启用并启动服务
sudo systemctl daemon-reload
sudo systemctl start ticket-backend
sudo systemctl enable ticket-backend

# 检查服务状态
sudo systemctl status ticket-backend
```

### 10.4 前端部署

#### 10.4.1 开发环境运行
```bash
# 克隆前端代码
cd /path/to/ticket-frontend

# 安装依赖
npm install

# 配置开发环境变量
cat > .env.development << EOF
VITE_API_BASE_URL=http://localhost:8080/api/v1
EOF

# 启动开发服务器
npm run dev
```

#### 10.4.2 生产环境构建
```bash
# 克隆前端代码
cd /path/to/ticket-frontend

# 安装依赖
npm install

# 配置生产环境变量
cat > .env.production << EOF
VITE_API_BASE_URL=http://your-domain.com/api/v1
EOF

# 构建生产版本
npm run build

# 构建产物位于 dist/ 目录
```

#### 10.4.3 Nginx配置（生产环境）

配置Nginx作为前端静态文件服务器和API反向代理：

```bash
# 安装Nginx
# Ubuntu/Debian:
sudo apt update && sudo apt install nginx
# macOS:
brew install nginx

# 创建站点配置
sudo tee /etc/nginx/sites-available/ticket-app > /dev/null << 'EOF'
server {
    listen 80;
    server_name your-domain.com;

    # 前端静态文件
    root /var/www/ticket-app;
    index index.html;

    # 前端路由支持
    location / {
        try_files $uri $uri/ /index.html;
    }

    # API反向代理
    location /api/ {
        proxy_pass http://localhost:8080;
        proxy_http_version 1.1;
        proxy_set_header Upgrade $http_upgrade;
        proxy_set_header Connection 'upgrade';
        proxy_set_header Host $host;
        proxy_cache_bypass $http_upgrade;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }

    # 静态资源缓存优化
    location ~* \.(js|css|png|jpg|jpeg|gif|ico|svg)$ {
        expires 1y;
        add_header Cache-Control "public, immutable";
    }
}
EOF

# 启用站点并重启Nginx
sudo ln -s /etc/nginx/sites-available/ticket-app /etc/nginx/sites-enabled/
sudo nginx -t  # 测试配置
sudo systemctl restart nginx
```

#### 10.4.4 部署静态文件

```bash
# 创建Web根目录
sudo mkdir -p /var/www/ticket-app

# 部署构建产物
sudo cp -r dist/* /var/www/ticket-app/

# 设置正确的文件权限
sudo chown -R www-data:www-data /var/www/ticket-app
sudo chmod -R 755 /var/www/ticket-app
```

### 10.4 SSL证书配置（可选）

#### 10.4.1 使用Let's Encrypt

```bash
# 安装Certbot
sudo apt install certbot python3-certbot-nginx

# 获取SSL证书
sudo certbot --nginx -d your-domain.com

# 自动续期
sudo crontab -e
# 添加以下行
0 12 * * * /usr/bin/certbot renew --quiet
```

### 10.5 部署检查清单

#### 10.5.1 部署前检查
- [ ] 确认PostgreSQL版本兼容性
- [ ] 创建数据库和用户
- [ ] 配置环境变量
- [ ] 测试后端编译
- [ ] 测试前端构建

#### 10.5.2 部署后验证
```bash
# 检查后端服务
curl http://localhost:8080/api/v1/tags

# 检查前端访问
curl -I http://your-domain.com

# 查看服务日志
sudo journalctl -u ticket-backend -f

# 查看Nginx日志
sudo tail -f /var/log/nginx/access.log
```

#### 10.5.3 性能优化建议
- 启用Nginx gzip压缩
- 配置适当的缓存策略
- 监控资源使用情况
- 定期备份数据库

### 10.6 维护指南

#### 10.6.1 更新应用
```bash
# 停止服务
sudo systemctl stop ticket-backend

# 备份当前版本
sudo cp -r /opt/ticket-app /opt/ticket-app.backup

# 部署新版本
# 1. 编译新版本
# 2. 复制到部署目录
# 3. 运行数据库迁移（如有）

# 重启服务
sudo systemctl start ticket-backend
```

#### 10.6.2 数据库备份
```bash
# 创建备份脚本
cat > /opt/scripts/backup-db.sh << 'EOF'
#!/bin/bash
BACKUP_DIR="/opt/backups"
DATE=$(date +%Y%m%d_%H%M%S)
mkdir -p $BACKUP_DIR

pg_dump -h localhost -U ticket_user ticket_db > $BACKUP_DIR/ticket_db_$DATE.sql
gzip $BACKUP_DIR/ticket_db_$DATE.sql

# 保留最近30天的备份
find $BACKUP_DIR -name "ticket_db_*.sql.gz" -mtime +30 -delete
EOF

chmod +x /opt/scripts/backup-db.sh

# 设置定时备份
crontab -e
# 添加以下行（每天凌晨2点备份）
0 2 * * * /opt/scripts/backup-db.sh
```

## 11. 后续扩展

### 11.1 可能的功能扩展
- 批量操作（批量删除、批量标记）
- Ticket优先级设置
- Ticket的截止日期
- 导入/导出功能
- 主题切换（深色模式）

### 11.2 性能优化方向
- API缓存
- 分页优化
- 数据库查询优化
- 前端虚拟滚动

## 附录A：技术栈详细信息

### A.1 后端技术栈

#### A.1.1 核心框架
- **axum** ^0.8 - 高性能的异步Web框架
  - 基于tokio和hyper构建
  - 类型安全的路由和中间件
  - 内置JSON序列化支持

#### A.1.2 数据库相关
- **sqlx** ^0.8 - 异步SQL工具包
  - 编译时检查SQL查询
  - 支持PostgreSQL、MySQL、SQLite
  - 连接池和事务支持

- **tokio-postgres** ^0.7 - PostgreSQL异步驱动
  - 原生异步支持
  - 高性能连接管理
  - SSL/TLS支持

- **refinery** ^0.9 - 数据库迁移工具
  - 版本化迁移管理
  - 支持多种数据库
  - 嵌入式迁移支持

#### A.1.3 序列化和验证
- **serde** ^1.0 - 序列化/反序列化框架
- **serde_json** ^1.0 - JSON处理
- **uuid** ^1.11 - UUID生成和解析
- **chrono** ^0.4 - 日期时间处理

#### A.1.4 异步运行时
- **tokio** ^1.41 - 异步运行时
  - 任务调度器
  - 网络I/O
  - 定时器和信号处理

- **tower** ^0.5 - 中间件抽象
- **tower-http** ^0.6 - HTTP中间件集合

#### A.1.5 日志和错误处理
- **tracing** ^0.1 - 结构化日志框架
- **tracing-subscriber** ^0.3 - 日志订阅器
- **anyhow** ^1.0 - 错误处理
- **thiserror** ^2.0 - 自定义错误类型

#### A.1.6 配置管理
- **dotenvy** ^0.15 - 环境变量加载
- **config** ^0.14 - 配置文件管理

#### A.1.7 安全相关
- **argon2** ^0.5 - 密码哈希（未来扩展）
- **jsonwebtoken** ^9.3 - JWT处理（未来扩展）

### A.2 前端技术栈

#### A.2.1 核心框架
- **React** ^19.0 - UI框架
  - 函数组件和Hooks
  - Concurrent特性
  - Suspense支持
  - 新的JSX Transform
  - 改进的Server Components支持

- **TypeScript** ^5.6 - 类型安全的JavaScript
- **Vite** ^6.0 - 构建工具
  - 快速的热重载
  - 原生ES模块支持
  - 优化的生产构建
  - 支持React 19新特性

#### A.2.2 UI框架和样式
- **Tailwind CSS** ^4.0 - 原子化CSS框架
  - 实用优先的设计
  - 高度可定制
  - 优秀的开发体验
  - 新的v4.0特性

- **@shadcn/ui** ^2.1 - React组件库
  - 基于Radix UI
  - 可复制粘贴的组件
  - 完全可定制
  - 支持React 19

- **clsx** ^2.2 - 条件类名工具
- **tailwind-merge** ^2.5 - Tailwind类名合并

#### A.2.3 路由和状态管理
- **React Router** ^7.1 - 客户端路由
  - 支持React 19新特性
  - 改进的数据加载
  - 更好的TypeScript支持

- **Zustand** ^5.0 - 轻量级状态管理
  - 基于Hooks的API
  - TypeScript友好
  - 无样板代码
  - 支持React 19

#### A.2.4 HTTP客户端和数据处理
- **Axios** ^1.7 - HTTP客户端
  - 请求/响应拦截器
  - 自动JSON转换
  - 错误处理

- **React Query (TanStack Query)** ^5.64 - 服务器状态管理
  - 缓存和同步
  - 乐观更新
  - 并行和依赖查询
  - 支持React 19

#### A.2.5 表单处理
- **React Hook Form** ^7.55 - 高性能表单库
  - 支持React 19
  - 优化的性能
- **Zod** ^3.24 - TypeScript优先的模式验证
- **@hookform/resolvers** ^3.10 - 表单验证集成

#### A.2.6 工具库
- **date-fns** ^4.1 - 日期工具库
- **lodash** ^4.17 - 实用工具函数
- **react-hot-toast** ^2.5 - Toast通知组件
  - 支持React 19
  - 改进的性能

### A.3 开发工具

#### A.3.1 代码质量
- **ESLint** ^9.18 - JavaScript/TypeScript代码检查
- **Prettier** ^3.4 - 代码格式化
- **@typescript-eslint** ^8.18 - TypeScript ESLint规则

#### A.3.2 测试框架
**后端测试:**
- **tokio-test** ^0.4 - 异步测试工具
- **mockall** ^0.13 - Mock框架

**前端测试:**
- **Vitest** ^3.0 - 单元测试框架
  - 支持React 19
- **@testing-library/react** ^16.2 - React测试工具
  - 支持React 19新特性
- **@testing-library/jest-dom** ^6.7 - DOM测试匹配器
- **Playwright** ^1.50 - 端到端测试

#### A.3.3 构建和部署
- **Cross** ^0.2 - Rust交叉编译工具
- **Docker** - 容器化（可选）
- **GitHub Actions** - CI/CD自动化

### A.4 开发环境工具

#### A.4.1 IDE和编辑器
- **Visual Studio Code** - 主要开发IDE
  - Rust Analyzer扩展
  - TypeScript支持
  - Tailwind CSS IntelliSense

#### A.4.2 数据库工具
- **pgAdmin** - PostgreSQL管理工具
- **DBeaver** - 通用数据库客户端
- **psql** - PostgreSQL命令行客户端

#### A.4.3 API测试
- **Postman** - API测试工具
- **Bruno** - 开源API客户端
- **curl** - 命令行HTTP客户端

#### A.4.4 版本控制
- **Git** ^2.48 - 版本控制系统
- **GitHub** - 代码托管和协作

### A.5 版本兼容性矩阵

| 组件类别 | 组件名称 | 最低版本 | 推荐版本 | 说明 |
|---------|---------|---------|---------|------|
| **Rust生态** | Rust | 1.75.0 | 1.83.0+ | 需要支持async/await |
| | axum | 0.8.0 | 0.8.1+ | Web框架 |
| | sqlx | 0.8.0 | 0.8.2+ | 数据库ORM |
| | tokio | 1.40.0 | 1.41.1+ | 异步运行时 |
| **Node.js** | Node.js | 20.0.0 | 22.0.0+ | LTS版本 |
| | npm | 10.0.0 | 10.9.0+ | 包管理器 |
| | Vite | 6.0.0 | 6.0.5+ | 构建工具 |
| **数据库** | PostgreSQL | 15.0 | 17.0+ | 支持JSON和窗口函数 |
| **React生态** | React | 18.0 | 19.0+ | UI框架 |
| **浏览器** | Chrome | 120.0 | 132.0+ | 开发和调试 |
| | Firefox | 120.0 | 135.0+ | 兼容性测试 |

---

*本文档版本: v1.3*
*最后更新: 2025-12-07*